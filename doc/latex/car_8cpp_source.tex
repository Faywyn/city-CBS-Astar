\doxysubsection{car.\+cpp}
\hypertarget{car_8cpp_source}{}\label{car_8cpp_source}\index{car.cpp@{car.cpp}}
\mbox{\hyperlink{car_8cpp}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00007}00007\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{car_8h}{car.h}}"{}}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00008}00008\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config_8h}{config.h}}"{}}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00009}00009\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{dubins_8h}{dubins.h}}"{}}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{utils_8h}{utils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00011}00011\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00012}00012\ \textcolor{preprocessor}{\#include\ <iostream>}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00013}00013\ \textcolor{preprocessor}{\#include\ <random>}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00014}00014\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00015}\mbox{\hyperlink{class_car_a1c803f7c5038d3e31b368b0d0a35493c}{00015}}\ \mbox{\hyperlink{class_car_a1c803f7c5038d3e31b368b0d0a35493c}{Car::Car}}()\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00016}00016\ \ \ std::vector<sf::Color>\ colors\ =\ \{sf::Color(50,\ 120,\ 190),\ sf::Color(183,\ 132,\ 144),\ sf::Color(105,\ 101,\ 89),}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00017}00017\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ sf::Color(182,\ 18,\ 34),\ \ sf::Color(24,\ 25,\ 24),\ \ \ \ sf::Color(17,\ 86,\ 122)\};}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00018}00018\ \ \ color\ =\ colors[rand()\ \%\ colors.size()];}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00019}00019\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00020}00020\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00021}\mbox{\hyperlink{class_car_a6046ebb4d6a688f1849b09ee24672cc6}{00021}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_car_a6046ebb4d6a688f1849b09ee24672cc6}{Car::move}}()\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00022}00022\ \ \ \textcolor{keywordflow}{if}\ (currentPoint\ >=\ (\textcolor{keywordtype}{int})path.size())}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00023}00023\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00024}00024\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00025}00025\ \ \ currentPoint++;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00026}00026\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00027}00027\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00028}\mbox{\hyperlink{class_car_a0a9a29c138d2e9d4159f7d093d3ee5ff}{00028}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_car_a0a9a29c138d2e9d4159f7d093d3ee5ff}{Car::render}}(sf::RenderWindow\ \&window)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00029}00029\ \ \ \textcolor{keywordflow}{if}\ (1\ +\ currentPoint\ >=\ (\textcolor{keywordtype}{int})path.size())}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00030}00030\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00032}00032\ \ \ sf::Vector2f\ point\ =\ path[currentPoint];}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00033}00033\ \ \ sf::Vector2f\ nextPoint\ =\ path[currentPoint\ +\ 1];}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00034}00034\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00035}00035\ \ \ sf::RectangleShape\ shape(sf::Vector2f(CAR\_LENGTH,\ CAR\_WIDTH));}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00036}00036\ \ \ shape.setOrigin(CAR\_LENGTH\ /\ 2.0f,\ CAR\_WIDTH\ /\ 2.0f);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00037}00037\ \ \ shape.setPosition(point);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00038}00038\ \ \ shape.setRotation(atan2(nextPoint.y\ -\/\ point.y,\ nextPoint.x\ -\/\ point.x)\ *\ 180.0f\ /\ M\_PI);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00039}00039\ \ \ \textcolor{keywordflow}{if}\ (debug)}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00040}00040\ \ \ \ \ shape.setFillColor(sf::Color(255,\ 0,\ 0));}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00041}00041\ \ \ \textcolor{keywordflow}{else}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00042}00042\ \ \ \ \ shape.setFillColor(color);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00043}00043\ \ \ window.draw(shape);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00044}00044\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00045}00045\ \ \ \textcolor{keywordflow}{if}\ (!debug)}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00046}00046\ \ \ \ \ \textcolor{keywordflow}{return};}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00047}00047\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00048}00048\ \ \ \textcolor{comment}{//\ Render\ speed,\ elapsed\ time,\ remaining\ time,\ and\ distance}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00049}00049\ \ \ \textcolor{keywordtype}{int}\ speed\ =\ (int)(\mbox{\hyperlink{class_car_ae312e36e2773d7a9f5c71146bfd68169}{getSpeed}}()\ *\ 3.6f);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00050}00050\ \ \ \textcolor{keywordtype}{int}\ dSpeed\ =\ (\mbox{\hyperlink{class_car_ae312e36e2773d7a9f5c71146bfd68169}{getSpeed}}()\ *\ 3.6f\ -\/\ (double)speed)\ *\ 100;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00051}00051\ \ \ sf::Font\ font\ =\ \mbox{\hyperlink{utils_8h_a7c48a100843dd2f2e7a93ad06eb1fdc6}{loadFont}}();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00052}00052\ \ \ sf::Text\ text;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00053}00053\ \ \ text.setFont(font);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00054}00054\ \ \ text.setCharacterSize(24);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00055}00055\ \ \ text.setFillColor(sf::Color::White);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00056}00056\ \ \ text.setPosition(\mbox{\hyperlink{class_car_a8495ec426d53fe1caf32117d454cf24e}{getPosition}}());}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00057}00057\ \ \ text.setString(std::to\_string(speed)\ +\ \textcolor{stringliteral}{"{}."{}}\ +\ std::to\_string(dSpeed)\ +\ \textcolor{stringliteral}{"{}\ km/h"{}}\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}\ +}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00058}00058\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::to\_string((\textcolor{keywordtype}{int})\mbox{\hyperlink{class_car_a36a9606d33d6a338819ddd68c992f8cd}{getElapsedTime}}())\ +\ \textcolor{stringliteral}{"{}s\ /\ "{}}\ +\ std::to\_string((\textcolor{keywordtype}{int})\mbox{\hyperlink{class_car_ac2489964ae069b7c0163ad11f89100ff}{getRemainingTime}}())\ +\ \textcolor{stringliteral}{"{}s"{}}\ +\ \textcolor{stringliteral}{"{}\(\backslash\)n"{}}\ +}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00059}00059\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ std::to\_string((\textcolor{keywordtype}{int})\mbox{\hyperlink{class_car_afde755e277142646a9ff78906d898215}{getElapsedDistance}}())\ +\ \textcolor{stringliteral}{"{}m\ /\ "{}}\ +\ std::to\_string((\textcolor{keywordtype}{int})\mbox{\hyperlink{class_car_a8c5942101e1f0885d89d08f4506b9485}{getRemainingDistance}}())\ +}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00060}00060\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{stringliteral}{"{}m"{}});}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00061}00061\ \ \ text.setOutlineColor(sf::Color::Black);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00062}00062\ \ \ text.setOutlineThickness(1.0f);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00063}00063\ \ \ text.scale(0.1f,\ 0.1f);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00064}00064\ \ \ text.setOrigin(text.getLocalBounds().width\ /\ 2.0f,\ text.getLocalBounds().height\ /\ 2.0f);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00065}00065\ \ \ window.draw(text);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00066}00066\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00067}00067\ \ \ \textcolor{comment}{//\ Render\ path}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00068}00068\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ currentPoint;\ i\ <\ (int)path.size()\ -\/\ 1;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00069}00069\ \ \ \ \ sf::Vertex\ line[]\ =\ \{sf::Vertex(path[i]),\ sf::Vertex(path[i\ +\ 1])\};}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00070}00070\ \ \ \ \ line[0].color\ =\ sf::Color(255,\ 255,\ 255);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00071}00071\ \ \ \ \ line[1].color\ =\ sf::Color(255,\ 255,\ 255);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00072}00072\ \ \ \ \ window.draw(line,\ 2,\ sf::Lines);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00073}00073\ \ \ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00074}00074\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00076}\mbox{\hyperlink{class_car_a2d647d6ac10233d462d3d803786f46a9}{00076}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_car_a2d647d6ac10233d462d3d803786f46a9}{Car::assignPath}}(std::vector<AStar::node>\ path)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00077}00077\ \ \ this-\/>path.clear();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00078}00078\ \ \ this-\/>aStarPath\ =\ path;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00079}00079\ \ \ \mbox{\hyperlink{class_dubins_path}{DubinsPath}}\ dubins(path);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00080}00080\ \ \ std::vector<CityGraph::point>\ dubinsPath\_\ =\ dubins.\mbox{\hyperlink{class_dubins_path_ae35f5acb98d4cdc4b229cfe56b63ff2a}{path}}();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00081}00081\ \ \ \textcolor{keywordflow}{for}\ (CityGraph::point\ point\ :\ dubinsPath\_)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00082}00082\ \ \ \ \ this-\/>path.push\_back(point.position);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00083}00083\ \ \ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00084}00084\ \ \ currentPoint\ =\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00085}00085\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00087}\mbox{\hyperlink{class_car_ade060947d27c2b75ed2caf23cae35335}{00087}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_car_ade060947d27c2b75ed2caf23cae35335}{Car::assignExistingPath}}(std::vector<sf::Vector2f>\ path)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00088}00088\ \ \ this-\/>path\ =\ path;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00089}00089\ \ \ currentPoint\ =\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00090}00090\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00091}00091\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00092}\mbox{\hyperlink{class_car_ae312e36e2773d7a9f5c71146bfd68169}{00092}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_car_ae312e36e2773d7a9f5c71146bfd68169}{Car::getSpeed}}()\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00093}00093\ \ \ \textcolor{keywordflow}{if}\ (currentPoint\ >=\ (\textcolor{keywordtype}{int})path.size()\ -\/\ 1)}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00094}00094\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00096}00096\ \ \ sf::Vector2f\ diff\ =\ path[currentPoint\ +\ 1]\ -\/\ path[currentPoint];}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00097}00097\ \ \ \textcolor{keywordflow}{return}\ sqrt(diff.x\ *\ diff.x\ +\ diff.y\ *\ diff.y)\ /\ SIM\_STEP\_TIME;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00098}00098\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00099}00099\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00100}\mbox{\hyperlink{class_car_aabc63500ad06bd9d3006bbd1209a6749}{00100}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_car_aabc63500ad06bd9d3006bbd1209a6749}{Car::getSpeedAt}}(\textcolor{keywordtype}{int}\ index)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00101}00101\ \ \ \textcolor{keywordflow}{if}\ (index\ >=\ (\textcolor{keywordtype}{int})path.size()\ -\/\ 1)}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00102}00102\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00103}00103\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00104}00104\ \ \ sf::Vector2f\ diff\ =\ path[index\ +\ 1]\ -\/\ path[index];}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00105}00105\ \ \ \textcolor{keywordflow}{return}\ sqrt(diff.x\ *\ diff.x\ +\ diff.y\ *\ diff.y)\ /\ SIM\_STEP\_TIME;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00106}00106\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00108}\mbox{\hyperlink{class_car_ac2489964ae069b7c0163ad11f89100ff}{00108}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_car_ac2489964ae069b7c0163ad11f89100ff}{Car::getRemainingTime}}()\ \{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{double})(path.size()\ -\/\ currentPoint)\ *\ SIM\_STEP\_TIME;\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00109}\mbox{\hyperlink{class_car_a36a9606d33d6a338819ddd68c992f8cd}{00109}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_car_a36a9606d33d6a338819ddd68c992f8cd}{Car::getElapsedTime}}()\ \{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{double})currentPoint\ *\ SIM\_STEP\_TIME;\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00110}\mbox{\hyperlink{class_car_a9ba1e70a349a9fe89b5db5212e9c6b8a}{00110}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_car_a9ba1e70a349a9fe89b5db5212e9c6b8a}{Car::getPathTime}}()\ \{\ \textcolor{keywordflow}{return}\ (\textcolor{keywordtype}{double})path.size()\ *\ SIM\_STEP\_TIME;\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00111}00111\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00112}\mbox{\hyperlink{class_car_a8c5942101e1f0885d89d08f4506b9485}{00112}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_car_a8c5942101e1f0885d89d08f4506b9485}{Car::getRemainingDistance}}()\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00113}00113\ \ \ \textcolor{keywordtype}{double}\ dist\ =\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00114}00114\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ currentPoint;\ i\ <\ (int)path.size()\ -\/\ 1;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00115}00115\ \ \ \ \ sf::Vector2f\ diff\ =\ path[i\ +\ 1]\ -\/\ path[i];}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00116}00116\ \ \ \ \ dist\ +=\ sqrt(diff.x\ *\ diff.x\ +\ diff.y\ *\ diff.y);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00117}00117\ \ \ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00118}00118\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00119}00119\ \ \ \textcolor{keywordflow}{return}\ dist;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00120}00120\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00121}00121\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00122}\mbox{\hyperlink{class_car_afde755e277142646a9ff78906d898215}{00122}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_car_afde755e277142646a9ff78906d898215}{Car::getElapsedDistance}}()\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00123}00123\ \ \ \textcolor{keywordtype}{double}\ dist\ =\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00124}00124\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ currentPoint;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00125}00125\ \ \ \ \ sf::Vector2f\ diff\ =\ path[i\ +\ 1]\ -\/\ path[i];}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00126}00126\ \ \ \ \ dist\ +=\ sqrt(diff.x\ *\ diff.x\ +\ diff.y\ *\ diff.y);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00127}00127\ \ \ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00128}00128\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00129}00129\ \ \ \textcolor{keywordflow}{return}\ dist;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00130}00130\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00131}00131\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00132}\mbox{\hyperlink{class_car_a6251d7195d5edda54d364a694d959bcc}{00132}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_car_a6251d7195d5edda54d364a694d959bcc}{Car::getPathLength}}()\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00133}00133\ \ \ \textcolor{keywordtype}{double}\ dist\ =\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00134}00134\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ (int)path.size()\ -\/\ 1;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00135}00135\ \ \ \ \ sf::Vector2f\ diff\ =\ path[i\ +\ 1]\ -\/\ path[i];}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00136}00136\ \ \ \ \ dist\ +=\ sqrt(diff.x\ *\ diff.x\ +\ diff.y\ *\ diff.y);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00137}00137\ \ \ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00138}00138\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00139}00139\ \ \ \textcolor{keywordflow}{return}\ dist;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00140}00140\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00141}00141\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00142}\mbox{\hyperlink{class_car_ae421fb9774eaa449381f576e5549a87a}{00142}}\ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_car_ae421fb9774eaa449381f576e5549a87a}{Car::chooseRandomStartEndPath}}(\mbox{\hyperlink{class_city_graph}{CityGraph}}\ \&graph,\ \mbox{\hyperlink{class_city_map}{CityMap}}\ \&cityMap)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00143}00143\ \ \ CityGraph::point\ start;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00144}00144\ \ \ CityGraph::point\ end;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00145}00145\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00146}00146\ \ \ \textcolor{keywordtype}{double}\ minDistance\ =\ std::max(graph.\mbox{\hyperlink{class_city_graph_adacc7efa734b4e88ea65c27b76ea9694}{getWidth}}(),\ graph.\mbox{\hyperlink{class_city_graph_ad66f7c1af5279e8a9265ea241ff8220a}{getHeight}}())\ /\ 2.0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00147}00147\ \ \ std::vector<AStar::node>\ path;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00148}00148\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00149}00149\ \ \ \textcolor{keywordflow}{do}\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00150}00150\ \ \ \ \ path.clear();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00151}00151\ \ \ \ \ start\ =\ graph.\mbox{\hyperlink{class_city_graph_a74ec1c7da11575db35b446aa83f9c0a9}{getRandomPoint}}();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00152}00152\ \ \ \ \ end\ =\ graph.\mbox{\hyperlink{class_city_graph_a74ec1c7da11575db35b446aa83f9c0a9}{getRandomPoint}}();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00153}00153\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00154}00154\ \ \ \ \ \textcolor{keywordflow}{if}\ (std::sqrt(std::pow(start.position.x\ -\/\ end.position.x,\ 2)\ +\ std::pow(start.position.y\ -\/\ end.position.y,\ 2))\ <}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00155}00155\ \ \ \ \ \ \ \ \ minDistance)}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00156}00156\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00157}00157\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00158}00158\ \ \ \ \ \mbox{\hyperlink{class_a_star}{AStar}}\ aStar(start,\ end,\ graph);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00159}00159\ \ \ \ \ path\ =\ aStar.\mbox{\hyperlink{class_a_star_a3426257c3d49fe3d47595eaa7a2cc4bf}{findPath}}();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00160}00160\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00161}00161\ \ \ \ \ \textcolor{keywordflow}{if}\ (!path.empty()\ \&\&\ (\textcolor{keywordtype}{int})path.size()\ >=\ 3)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00162}00162\ \ \ \ \ \ \ \mbox{\hyperlink{class_timed_a_star}{TimedAStar}}\ timedAStar(start,\ end,\ graph,\ \textcolor{keyword}{nullptr},\ 0);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00163}00163\ \ \ \ \ \ \ path.clear();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00164}00164\ \ \ \ \ \ \ path\ =\ timedAStar.\mbox{\hyperlink{class_timed_a_star_a8054d124dbc953374a5bfb2ca9bfe3ba}{findPath}}();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00165}00165\ \ \ \ \ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00166}00166\ \ \ \}\ \textcolor{keywordflow}{while}\ (path.empty()\ ||\ (\textcolor{keywordtype}{int})path.size()\ <\ 3);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00167}00167\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00168}00168\ \ \ this-\/>\mbox{\hyperlink{class_car_a5dee364bf7d896b375bdb4004c24edc0}{assignStartEnd}}(start,\ end);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00169}00169\ \ \ this-\/>\mbox{\hyperlink{class_car_a2d647d6ac10233d462d3d803786f46a9}{assignPath}}(path);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00170}00170\ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00171}00171\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00172}\mbox{\hyperlink{class_car_a09c4890a0879d97eba79b3be38fcef8e}{00172}}\ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_car_a09c4890a0879d97eba79b3be38fcef8e}{Car::getAverageSpeed}}(\mbox{\hyperlink{class_city_graph}{CityGraph}}\ \&graph)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00173}00173\ \ \ \textcolor{keywordtype}{double}\ dist\ =\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00174}00174\ \ \ \textcolor{keywordtype}{double}\ time\ =\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00175}00175\ \ \ \textcolor{keyword}{auto}\ outOfBounds\ =\ [\&](sf::Vector2f\ p)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00176}00176\ \ \ \ \ \textcolor{keywordflow}{return}\ p.x\ <\ 0\ ||\ p.y\ <\ 0\ ||\ p.x\ >\ graph.\mbox{\hyperlink{class_city_graph_adacc7efa734b4e88ea65c27b76ea9694}{getWidth}}()\ ||\ p.y\ >\ graph.\mbox{\hyperlink{class_city_graph_adacc7efa734b4e88ea65c27b76ea9694}{getWidth}}();}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00177}00177\ \ \ \};}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00178}00178\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00179}00179\ \ \ \textcolor{keywordflow}{for}\ (\textcolor{keywordtype}{int}\ i\ =\ 0;\ i\ <\ (int)path.size()\ -\/\ 1;\ i++)\ \{}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00180}00180\ \ \ \ \ \textcolor{keywordflow}{if}\ (outOfBounds(path[i])\ ||\ outOfBounds(path[i\ +\ 1]))}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00181}00181\ \ \ \ \ \ \ \textcolor{keywordflow}{continue};}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00182}00182\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00183}00183\ \ \ \ \ sf::Vector2f\ diff\ =\ path[i\ +\ 1]\ -\/\ path[i];}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00184}00184\ \ \ \ \ dist\ +=\ sqrt(diff.x\ *\ diff.x\ +\ diff.y\ *\ diff.y);}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00185}00185\ \ \ \ \ time\ +=\ SIM\_STEP\_TIME;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00186}00186\ \ \ \}}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00187}00187\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00188}00188\ \ \ \textcolor{keywordflow}{if}\ (time\ ==\ 0)}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00189}00189\ \ \ \ \ \textcolor{keywordflow}{return}\ 0;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00190}00190\ }
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00191}00191\ \ \ \textcolor{keywordflow}{return}\ dist\ /\ time;}
\DoxyCodeLine{\Hypertarget{car_8cpp_source_l00192}00192\ \}}

\end{DoxyCode}

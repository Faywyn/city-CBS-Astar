\doxysubsection{city\+Graph.\+h}
\hypertarget{city_graph_8h_source}{}\label{city_graph_8h_source}\index{cityGraph.h@{cityGraph.h}}
\mbox{\hyperlink{city_graph_8h}{Go to the documentation of this file.}}
\begin{DoxyCode}{0}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00001}00001\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00007}00007\ \textcolor{preprocessor}{\#pragma\ once}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00008}00008\ \textcolor{preprocessor}{\#include\ <unordered\_set>}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00009}00009\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00010}00010\ \textcolor{preprocessor}{\#include\ "{}cityMap.h"{}}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00011}00011\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{config_8h}{config.h}}"{}}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00012}00012\ \textcolor{preprocessor}{\#include\ "{}\mbox{\hyperlink{utils_8h}{utils.h}}"{}}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00013}00013\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00020}\mbox{\hyperlink{struct__city_graph_point}{00020}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct__city_graph_point}{\_cityGraphPoint}}\ \{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00021}\mbox{\hyperlink{struct__city_graph_point_a7ab7fa448ec9f76deea0c243f787f564}{00021}}\ \ \ sf::Vector2f\ \mbox{\hyperlink{struct__city_graph_point_a7ab7fa448ec9f76deea0c243f787f564}{position}};\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00022}\mbox{\hyperlink{struct__city_graph_point_abe0c141857553f00de4ac27a7a7a943b}{00022}}\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{struct__city_graph_point_abe0c141857553f00de4ac27a7a7a943b}{angle}};\ \ \ \ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00023}00023\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00024}00024\ \ \ \textcolor{keywordtype}{bool}\ operator==(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct__city_graph_point}{\_cityGraphPoint}}\ \&other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00025}00025\ \ \ \ \ \textcolor{keywordtype}{int}\ x\ =\ std::round(\mbox{\hyperlink{struct__city_graph_point_a7ab7fa448ec9f76deea0c243f787f564}{position}}.x\ /\ CELL\_SIZE);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00026}00026\ \ \ \ \ \textcolor{keywordtype}{int}\ y\ =\ std::round(\mbox{\hyperlink{struct__city_graph_point_a7ab7fa448ec9f76deea0c243f787f564}{position}}.y\ /\ CELL\_SIZE);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00027}00027\ \ \ \ \ \textcolor{keywordtype}{int}\ a\ =\ std::round(\mbox{\hyperlink{utils_8h_a8b909c7be741a1e355bd0b822df0645e}{normalizeAngle}}(\mbox{\hyperlink{struct__city_graph_point_abe0c141857553f00de4ac27a7a7a943b}{angle}})\ /\ ANGLE\_RESOLUTION);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00028}00028\ \ \ \ \ \textcolor{keywordtype}{int}\ oX\ =\ std::round(other.\mbox{\hyperlink{struct__city_graph_point_a7ab7fa448ec9f76deea0c243f787f564}{position}}.x\ /\ CELL\_SIZE);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00029}00029\ \ \ \ \ \textcolor{keywordtype}{int}\ oY\ =\ std::round(other.\mbox{\hyperlink{struct__city_graph_point_a7ab7fa448ec9f76deea0c243f787f564}{position}}.y\ /\ CELL\_SIZE);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00030}00030\ \ \ \ \ \textcolor{keywordtype}{int}\ oA\ =\ std::round(\mbox{\hyperlink{utils_8h_a8b909c7be741a1e355bd0b822df0645e}{normalizeAngle}}(other.\mbox{\hyperlink{struct__city_graph_point_abe0c141857553f00de4ac27a7a7a943b}{angle}})\ /\ ANGLE\_RESOLUTION);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00031}00031\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00032}00032\ \ \ \ \ \textcolor{keywordflow}{return}\ x\ ==\ oX\ \&\&\ y\ ==\ oY\ \&\&\ a\ ==\ oA;}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00033}00033\ \ \ \}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00034}00034\ \}\ \mbox{\hyperlink{struct__city_graph_point}{\_cityGraphPoint}};}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00035}00035\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00043}\mbox{\hyperlink{struct__city_graph_neighbor}{00043}}\ \textcolor{keyword}{typedef}\ \textcolor{keyword}{struct\ }\mbox{\hyperlink{struct__city_graph_neighbor}{\_cityGraphNeighbor}}\ \{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00044}\mbox{\hyperlink{struct__city_graph_neighbor_af7b516fdb7ff3afc1c6ed6d5fb8a6e9d}{00044}}\ \ \ \mbox{\hyperlink{struct__city_graph_point}{\_cityGraphPoint}}\ \mbox{\hyperlink{struct__city_graph_neighbor_af7b516fdb7ff3afc1c6ed6d5fb8a6e9d}{point}};\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00045}\mbox{\hyperlink{struct__city_graph_neighbor_a7b9ccd923ba0d70f3a48296911522929}{00045}}\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{struct__city_graph_neighbor_a7b9ccd923ba0d70f3a48296911522929}{maxSpeed}};\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00046}\mbox{\hyperlink{struct__city_graph_neighbor_a81c78d863dc310a2bb71ee91202c771f}{00046}}\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{struct__city_graph_neighbor_a81c78d863dc310a2bb71ee91202c771f}{turningRadius}};\ \ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00047}\mbox{\hyperlink{struct__city_graph_neighbor_aa26ca466f5160210e25b9c79d9cd394e}{00047}}\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{struct__city_graph_neighbor_aa26ca466f5160210e25b9c79d9cd394e}{distance}};\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00048}\mbox{\hyperlink{struct__city_graph_neighbor_a9b38a3376e2822bb14525856a546c82d}{00048}}\ \ \ \textcolor{keywordtype}{bool}\ \mbox{\hyperlink{struct__city_graph_neighbor_a9b38a3376e2822bb14525856a546c82d}{isRightWay}};\ \ \ \ \ \ \ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00049}00049\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00050}00050\ \ \ \textcolor{keywordtype}{bool}\ operator==(\textcolor{keyword}{const}\ \mbox{\hyperlink{struct__city_graph_neighbor}{\_cityGraphNeighbor}}\ \&other)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00051}00051\ \ \ \ \ \textcolor{keywordflow}{return}\ \mbox{\hyperlink{struct__city_graph_neighbor_af7b516fdb7ff3afc1c6ed6d5fb8a6e9d}{point}}\ ==\ other.\mbox{\hyperlink{struct__city_graph_neighbor_af7b516fdb7ff3afc1c6ed6d5fb8a6e9d}{point}}\ \&\&\ \mbox{\hyperlink{struct__city_graph_neighbor_a7b9ccd923ba0d70f3a48296911522929}{maxSpeed}}\ ==\ other.\mbox{\hyperlink{struct__city_graph_neighbor_a7b9ccd923ba0d70f3a48296911522929}{maxSpeed}}\ \&\&\ \mbox{\hyperlink{struct__city_graph_neighbor_a81c78d863dc310a2bb71ee91202c771f}{turningRadius}}\ ==\ other.\mbox{\hyperlink{struct__city_graph_neighbor_a81c78d863dc310a2bb71ee91202c771f}{turningRadius}}\ \&\&}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00052}00052\ \ \ \ \ \ \ \ \ \ \ \ \mbox{\hyperlink{struct__city_graph_neighbor_aa26ca466f5160210e25b9c79d9cd394e}{distance}}\ ==\ other.\mbox{\hyperlink{struct__city_graph_neighbor_aa26ca466f5160210e25b9c79d9cd394e}{distance}}\ \&\&\ \mbox{\hyperlink{struct__city_graph_neighbor_a9b38a3376e2822bb14525856a546c82d}{isRightWay}}\ ==\ other.\mbox{\hyperlink{struct__city_graph_neighbor_a9b38a3376e2822bb14525856a546c82d}{isRightWay}};}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00053}00053\ \ \ \}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00054}00054\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00055}00055\ \}\ \mbox{\hyperlink{struct__city_graph_neighbor}{\_cityGraphNeighbor}};}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00056}00056\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00057}00057\ \textcolor{keyword}{namespace\ }std\ \{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00058}00058\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }hash<\_cityGraphPoint>\ \{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00059}00059\ \ \ std::size\_t\ operator()(\textcolor{keyword}{const}\ \_cityGraphPoint\ \&point)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00060}00060\ \ \ \ \ \textcolor{keywordtype}{int}\ x\ =\ std::round(point.\mbox{\hyperlink{struct__city_graph_point_a7ab7fa448ec9f76deea0c243f787f564}{position}}.x\ /\ CELL\_SIZE);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00061}00061\ \ \ \ \ \textcolor{keywordtype}{int}\ y\ =\ std::round(point.\mbox{\hyperlink{struct__city_graph_point_a7ab7fa448ec9f76deea0c243f787f564}{position}}.y\ /\ CELL\_SIZE);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00062}00062\ \ \ \ \ \textcolor{keywordtype}{int}\ a\ =\ std::round(\mbox{\hyperlink{utils_8h_a8b909c7be741a1e355bd0b822df0645e}{normalizeAngle}}(point.\mbox{\hyperlink{struct__city_graph_point_abe0c141857553f00de4ac27a7a7a943b}{angle}})\ /\ ANGLE\_RESOLUTION);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00063}00063\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00064}00064\ \ \ \ \ \textcolor{keywordflow}{return}\ std::hash<int>()(x)\ \string^\ std::hash<int>()(y)\ \string^\ std::hash<int>()(a);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00065}00065\ \ \ \}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00066}00066\ \};}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00067}00067\ \textcolor{keyword}{template}\ <>\ \textcolor{keyword}{struct\ }hash<\_cityGraphNeighbor>\ \{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00068}00068\ \ \ std::size\_t\ operator()(\textcolor{keyword}{const}\ \_cityGraphNeighbor\ \&neighbor)\textcolor{keyword}{\ const\ }\{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00069}00069\ \ \ \ \ \textcolor{keywordflow}{return}\ std::hash<\_cityGraphPoint>()(neighbor.\mbox{\hyperlink{struct__city_graph_neighbor_af7b516fdb7ff3afc1c6ed6d5fb8a6e9d}{point}})\ \string^\ std::hash<double>()(neighbor.\mbox{\hyperlink{struct__city_graph_neighbor_a7b9ccd923ba0d70f3a48296911522929}{maxSpeed}})\ \string^}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00070}00070\ \ \ \ \ \ \ \ \ \ \ \ std::hash<double>()(neighbor.\mbox{\hyperlink{struct__city_graph_neighbor_a81c78d863dc310a2bb71ee91202c771f}{turningRadius}})\ \string^\ std::hash<double>()(neighbor.\mbox{\hyperlink{struct__city_graph_neighbor_aa26ca466f5160210e25b9c79d9cd394e}{distance}})\ \string^}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00071}00071\ \ \ \ \ \ \ \ \ \ \ \ std::hash<bool>()(neighbor.\mbox{\hyperlink{struct__city_graph_neighbor_a9b38a3376e2822bb14525856a546c82d}{isRightWay}});}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00072}00072\ \ \ \}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00073}00073\ \};}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00074}00074\ \}\ \textcolor{comment}{//\ namespace\ std}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00075}00075\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00082}\mbox{\hyperlink{class_city_graph}{00082}}\ \textcolor{keyword}{class\ }\mbox{\hyperlink{class_city_graph}{CityGraph}}\ \{}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00083}00083\ \textcolor{keyword}{public}:}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00084}00084\ \ \ \textcolor{keyword}{using\ }point\ =\ \mbox{\hyperlink{struct__city_graph_point}{\_cityGraphPoint}};}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00085}00085\ \ \ \textcolor{keyword}{using\ }neighbor\ =\ \mbox{\hyperlink{struct__city_graph_neighbor}{\_cityGraphNeighbor}};}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00086}00086\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00094}00094\ \ \ \textcolor{keywordtype}{void}\ \mbox{\hyperlink{class_city_graph_ac5ce9a9b617d6da67f06c105fefef8ee}{createGraph}}(\textcolor{keyword}{const}\ \mbox{\hyperlink{class_city_map}{CityMap}}\ \&cityMap);}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00095}00095\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00100}\mbox{\hyperlink{class_city_graph_a1ebf21b5d9a0deea2c8e731157f5f3d8}{00100}}\ \ \ std::unordered\_map<point,\ std::vector<neighbor>>\ \mbox{\hyperlink{class_city_graph_a1ebf21b5d9a0deea2c8e731157f5f3d8}{getNeighbors}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ neighbors;\ \}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00101}00101\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00106}\mbox{\hyperlink{class_city_graph_a743b7ade1f28b77aa796daf348c37270}{00106}}\ \ \ std::unordered\_set<point>\ \mbox{\hyperlink{class_city_graph_a743b7ade1f28b77aa796daf348c37270}{getGraphPoints}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ graphPoints;\ \}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00107}00107\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00112}00112\ \ \ point\ \mbox{\hyperlink{class_city_graph_a74ec1c7da11575db35b446aa83f9c0a9}{getRandomPoint}}()\ \textcolor{keyword}{const};}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00113}00113\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00118}\mbox{\hyperlink{class_city_graph_ad66f7c1af5279e8a9265ea241ff8220a}{00118}}\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_city_graph_ad66f7c1af5279e8a9265ea241ff8220a}{getHeight}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ height;\ \}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00119}00119\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00124}\mbox{\hyperlink{class_city_graph_adacc7efa734b4e88ea65c27b76ea9694}{00124}}\ \ \ \textcolor{keywordtype}{double}\ \mbox{\hyperlink{class_city_graph_adacc7efa734b4e88ea65c27b76ea9694}{getWidth}}()\textcolor{keyword}{\ const\ }\{\ \textcolor{keywordflow}{return}\ width;\ \}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00125}00125\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00126}00126\ \textcolor{keyword}{private}:}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00127}00127\ \ \ std::unordered\_map<point,\ std::vector<neighbor>>\ neighbors;}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00128}00128\ \ \ std::unordered\_set<point>\ graphPoints;}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00129}00129\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00130}00130\ \ \ \textcolor{keywordtype}{void}\ linkPoints(\textcolor{keyword}{const}\ point\ \&point1,\ \textcolor{keyword}{const}\ point\ \&point2,\ \textcolor{keywordtype}{int}\ direction,}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00131}00131\ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \ \textcolor{keywordtype}{bool}\ subPoints);\ \textcolor{comment}{//\ direction:\ 0\ -\/>\ point1\ to\ point2,\ 1\ -\/>\ point2\ to\ point1,\ 2\ -\/>\ both}}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00132}00132\ \ \ \textcolor{keywordtype}{bool}\ canLink(\textcolor{keyword}{const}\ point\ \&point1,\ \textcolor{keyword}{const}\ point\ \&point2,\ \textcolor{keywordtype}{double}\ speed,\ \textcolor{keywordtype}{double}\ *\mbox{\hyperlink{utils_8h_ac300931459ca910907a0e20cd51d2f1b}{distance}})\ \textcolor{keyword}{const};}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00133}00133\ }
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00134}00134\ \ \ \textcolor{keywordtype}{double}\ width;}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00135}00135\ \ \ \textcolor{keywordtype}{double}\ height;}
\DoxyCodeLine{\Hypertarget{city_graph_8h_source_l00136}00136\ \};}

\end{DoxyCode}
